{"version":3,"file":"autoCollectLogs.js","sourceRoot":"","sources":["../../../src/logs/autoCollectLogs.ts"],"names":[],"mappings":";;;AACA,wEAAuE;AACvE,IAAA,iCAAgB,GAAE,CAAC;AAEnB,MAAa,eAAe;IAEjB,MAAM,CAAC,OAA+B;QACzC,IAAI;YACA,8DAA8D;YAC9D,OAAO,CAAC,kCAAkC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;SACvE;QAAC,OAAO,KAAK,EAAE;YACZ,8DAA8D;YAC9D,OAAO,CAAC,sDAAsD,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;SAC3F;IACL,CAAC;IAEM,QAAQ;QACX,IAAI;YACA,8DAA8D;YAC9D,OAAO,CAAC,kCAAkC,CAAC,CAAC,OAAO,EAAE,CAAC;SACzD;QAAC,OAAO,KAAK,EAAE;YACZ,8DAA8D;YAC9D,OAAO,CAAC,sDAAsD,CAAC,CAAC,OAAO,EAAE,CAAC;SAC7E;IACL,CAAC;CACJ;AArBD,0CAqBC","sourcesContent":["import { InstrumentationOptions } from \"../types\";\r\nimport { enablePublishers } from \"./diagnostic-channel/initialization\";\r\nenablePublishers();\r\n\r\nexport class AutoCollectLogs {\r\n\r\n    public enable(options: InstrumentationOptions) {\r\n        try {\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./diagnostic-channel/console.sub\").enable(options.console);\r\n        } catch (error) {\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"../../../out/src/logs/diagnostic-channel/console.sub\").enable(options.console);\r\n        }\r\n    }\r\n\r\n    public shutdown() {\r\n        try {\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./diagnostic-channel/console.sub\").dispose();\r\n        } catch (error) {\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"../../../out/src/logs/diagnostic-channel/console.sub\").dispose();\r\n        }\r\n    }\r\n}\r\n"]}